import{a as T}from"./chunk-4TG7HONN.js";import{a as n}from"./chunk-TJ55WERY.js";import{c as p}from"./chunk-442635WZ.js";import{a as x,b as S,c as s,e as w,f as m}from"./chunk-A24ONYSU.js";import{g as v}from"./chunk-4C7GSA6N.js";function R(){return n("div",{class:"inline-block m-8 h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary-500 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:n("span",{class:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})}function y(e,t){let o=[],r=0;for(let d of e){r++;let l=t?`${t}.${r}`:`${r}`,i={id:l,selected:!1,expanded:!1,item:d};d.children&&(i.children=y(d.children,l)),o.push(i)}return o}function H(e){return e.children?y(e.children):[]}function k(e){for(let t of e)if(t.selected||t.children&&k(t.children))return!0;return!1}function K(e,t,o=0){for(let{id:r,selected:d,expanded:l,children:i,item:a}of t){let c={id:r,depth:o,checked:d,expanded:l,disabled:!1,indeterminate:!!(!d&&i&&k(i)),leaf:!i,item:a};e.push(c),l&&i&&K(e,i,o+1)}}function C(e,t,o=[]){for(let{selected:r,item:d,children:l}of t){let i=[...o,d.part];r&&e.push(i),l&&C(e,l,i)}}function h(e,t){for(let o of e){if(o.id===t)return o;if(o.children&&t.startsWith(`${o.id}.`))return h(o.children,t)}}function I(e,t){let o=h(e.value,t);o&&(o.expanded=!o.expanded,e.value=[...e.value])}function b(e){if(e.children)for(let t of e.children)t.selected=e.selected,b(t)}function J(e,t,o){let r=h(e.value,t);r&&(r.selected=o,b(r),e.value=[...e.value])}function M(e){for(let t of e.value)t.selected=!1,b(t),e.value=[...e.value]}function L(){let e=w([]),t=m(()=>{let d=[];return K(d,e.value),d}),o=m(()=>{let d=[];return C(d,e.value),d}),r=m(()=>o.value.length);return{tree:e,nodes:t,selected:o,selectedCount:r}}var A=L(),f=v(A);function g({size:e=6}){return n("svg",{class:`w-${e} h-${e}`,version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:n("use",{href:`${p("/sprites.svg")}#ic-baseline-arrow-drop-down`})})}function N({size:e=6}){return n("svg",{class:`w-${e} h-${e}`,version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:n("use",{href:`${p("/sprites.svg")}#ic-baseline-arrow-right`})})}function O({id:e,leaf:t,expanded:o}){let{tree:r}=s(f);return n("div",{role:"button",tabIndex:-1,class:t?"invisible":"dark:text-white",onClick:()=>I(r,e),"aria-hidden":!0,children:o?n(g,{size:7}):n(N,{size:7})})}function $({id:e,checked:t,disabled:o,name:r,indeterminate:d,readonly:l}){let i=S(null);x(()=>{i.current&&(i.current.indeterminate=d??!1)});let{tree:a}=s(f);return n("input",{name:r,id:r,ref:i,type:"checkbox",checked:t,disabled:o,readonly:l,onChange:c=>{let{currentTarget:{checked:u}}=c;J(a,e,u),c.stopPropagation()},class:"mx-1 align-middle"})}function E({id:e,title:t,checked:o,disabled:r,indeterminate:d,readonly:l,children:i}){return n("label",{title:t,for:e,children:[n($,{id:e,checked:o,disabled:r,indeterminate:d,readonly:l,name:e}),n("span",{children:i})]})}function P({id:e,expanded:t,checked:o,disabled:r,indeterminate:d,leaf:l,depth:i=0,children:a}){return n("li",{role:"treeitem",class:i?`flex my-1 ml-${i*4}`:"flex my-1",children:[n(O,{id:e,leaf:l,expanded:t}),n(E,{id:e,checked:o,disabled:r,indeterminate:d,children:a})]})}function ge(){let{nodes:e}=s(f),t=e.value.map(({id:o,expanded:r,checked:d,indeterminate:l,disabled:i,depth:a,leaf:c,item:{part:u}})=>n(P,{id:o,depth:a,leaf:c,expanded:r,checked:d,indeterminate:l,disabled:i,children:n(T,{part:u})},o));return n("ul",{role:"tree","aria-multiselectable":"true",children:t})}export{R as a,H as b,M as c,A as d,f as e,ge as f};
